# Blink Pay Button - Analytics Tracking

## Overview

The Blink Pay Button widget now includes built-in analytics tracking to help the Blink team understand how and where their widget is being used, and to track referrals from embedded donation buttons.

## How It Works

When users click on the Blink logo in the widget, they are redirected to `https://get.blink.sv` with the following analytics parameters:

### URL Parameters

| Parameter | Description | Example |
|-----------|-------------|---------|
| `username` | The Blink username configured in the widget | `twentyone` |
| `referral` | Source of the referral (always `embedded_donation_button`) | `embedded_donation_button` |
| `embed_url` | The URL where the widget is embedded | `https://example.com/donate` |
| `widget_version` | Version of the widget code | `1.2.2` |

### Example Analytics URL

```
https://get.blink.sv?username=twentyone&referral=embedded_donation_button&embed_url=https%3A//example.com/donate&widget_version=1.2.2
```

## Benefits for Blink

This analytics tracking enables Blink to:

1. **Track Widget Usage**: See how many people are using embedded donation buttons
2. **Identify Popular Sites**: Understand which websites are driving the most referrals
3. **User Acquisition**: Track new users coming from embedded widgets
4. **Feature Analytics**: Monitor widget version adoption and usage patterns

## Privacy & Security

- **No Personal Data**: Only publicly available information is tracked (username, page URL, referral source)
- **User Control**: Users can see the analytics URL by inspecting the link or using browser developer tools
- **Transparent**: This tracking is documented and open source
- **Optional**: Website owners can modify the widget code to remove analytics if desired

## Implementation Details

The analytics URL is generated by the `buildBlinkAnalyticsUrl()` function in the widget, which:

1. Starts with the base URL `https://get.blink.sv`
2. Adds the configured username parameter
3. Adds a fixed referral source identifier
4. Captures the current page URL using `window.location.href`
5. Includes the widget version for feature tracking

## Testing

You can test the analytics URL generation using the test page at `test-multilang.html`, which includes an "Analytics URL Test" button that shows the generated URL and its parameters.

## Customization

Website owners who embed the widget can:

- **Keep Default**: Use the analytics tracking as-is to support Blink's growth
- **Modify**: Change the `buildBlinkAnalyticsUrl()` function to add custom parameters
- **Remove**: Disable analytics by modifying the logo link in the widget code

The analytics tracking helps Blink understand the impact of their embedded widgets while maintaining user privacy and transparency. 